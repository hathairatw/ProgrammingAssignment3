# ProgrammingAssignment3
This is the assignment of Getting and Cleaning Data Module - Data Scientist Course

### Data used in the analysis
The UCI HAR Dataset was downloaded from the course website. The data files used in this analysis are
- 'README.txt'
- 'features_info.txt': Shows information about the variables used on the feature vector.
- 'features.txt': List of all features.
- 'activity_labels.txt': Links the class labels with their activity name.
- 'train/X_train.txt': Training set.
- 'train/y_train.txt': Training labels.
- 'test/X_test.txt': Test set.
- 'test/y_test.txt': Test labels.
- 'train/subject_train.txt': Each row identifies the subject who performed the activity for each window sample. Its range is from 1 to 30. 

### Running analysis

The objectives of this analysis is to create R script called run_analysis.R that does the following.
1. Merges the training and the test sets to create one data set.
2. Extracts only the measurements on the mean and standard deviation for each measurement.
3. Uses descriptive activity names to name the activities in the data set.
4. Appropriately labels the data set with descriptive variable names.
5. From the data set in step 4, creates a second, independent tidy data set with the average ofeach variable for each activity and each subject.

#### Step 1. Merges the training and the test sets to create one data set.
I generated test dataset and training dataset seperately before combining them together. To generate the test dataset, I combined subject_test, x_test and y_test file together with cbind function. The training dataset was generated by the same method. The subject_train, x_train and y_train file were combined with cbind function. Consequently, the test dataset and the training dataset were combined with rbind function. The combined dataset has 563 columns and 10,299 rows.

> Combined_dataset<-Test_dataset
> Combined_dataset<-rbind(Combined_dataset, Training_dataset)

#### Step 2. Extracts only the measurements on the mean and standard deviation for each measurement.
I started with reading the feature.txt which contains 561 features. The same 561 features are the columns of the combined dataset in step 1. Once I get the feature names which contain mean and std, I subset the combined dataset by including only those feature columns, excluding the other except subject and activity. To find the index of feature names which are mean and std, I used grep function. I extracted all possible outcomes â€“ mean and std in both upper and lower cases. The columns I included eventually are subject, activity and 86 features and the dataset from this step is called Subset_dataset.

> SelectedMeasure <- grep("([Mm]ean|[Ss]td)",feature$V2)

#### Step 3. Uses descriptive activity names to name the activities in the data set.
The y_test and y_train file include 6 activities which are showing as number 1-6. Those number 1-6 match the activities in activity_label.txt. I use match function to convert 1-6 to descriptive activity name

> Subset_dataset[["activity"]] <- activity_label[match(Subset_dataset[["activity"]],activity_label[["V1"]] ) , "V2"]

#### Step 4. Appropriately labels the data set with descriptive variable names.
I took the feature names which I extracted earlier with grep function to name all 86 feature columns. Note: I have subject and activity as column 1 and 2 so the columns I need to rename are 3:88.

> FeatureName <- grep("([Mm]ean|[Ss]td)",feature$V2, value=TRUE)
> names(Subset_dataset)[3:88] <- c(FeatureName)

#### Step 5. Creates a second, independent tidy data set with the average ofeach variable for each activity and each subject.
I used a pipeline operation in dplyr package to calculate an average of all columns across the table by subject and activity. The tidy data as a result has 180 rows and 88 columns.

> library(dplyr)
> tidy_data <- Subset_dataset %>%
  	group_by(subject, activity) %>%
  	summarise_at(vars(-(subject:activity)), funs(mean(., na.rm=TRUE)))
